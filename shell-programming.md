### Create a new variable and reference it
```
MY_VAR=hello
echo $MY_VAR # prints out 'hello'

# Create a list variable
MY_LIST_VAR=("item1" "item2" "item3")
echo ${MY_LIST_VAR[@]}
```
+ When declaring / initiating a new variable, there is no "$" symbol and ensure that you don't have spaces before and after the assignment symbol "="
+ When referencing a variable, use "$" followed by variable name
+ I prefer to use uppercase for variable names, but this is not required by shell
+ For list variables, separate list items with space and enclose all list items in brackets ()
+ `echo $MY_LIST_VAR` will only print out the first list item, while `echo ${MY_LIST_VAR[@]}` will print out the full list 

### Conditional statements, aka _if this then that_ 
```
#!/bin/bash (or #!/usr/bin/env bash)

# General syntax (only if)
if [[ condition ]]
then
  statement
fi

# General syntax (if, elif)
if [[ condition1 ]]
then
  statement1
elif [[ condition2 ]]
  statement2
then
fi

# General syntax (if, elif, else)
if [[ condition1 ]]
then
  statement1
elif [[ condition2 ]]
  statement2
then
else
  statement3
fi
```
+ Ensure that \<condition\> is separated by space with enclosing square brackets
    - `[[condition]]` or `[[condition ]]` or `[[ condition]]` are not valid
+ Double square brackets is bash-specific, hence the specification of "#!/bin/bash" at start of script

### Common conditional expressions
```
if [[ $(cat /path/to/file | grep <string-to-check>) ]] # passes if file contains <string-to-check>
if [[ ! $(cat /path/to/file | grep <string-to-check>) ]] # passes if file does not contains <string-to-check>

if [[ -z "${result}" ]] # passes if result is empty or null

if [[ $(find . -name "${FILE_NAME}") ]] # passes if a file with matching file name is found

if [[ -d <file or directory name> ]] # passes if there exists a file or directory within current directory matching <file or directory name>

if [[ $? -ne 0 ]] # passes if exit code of most recent command / process is not zero

if [[ $foo == "abc" ]] # passes if $foo value is 'abc'

if [[ condition1 || condition2 ]] # passes if either conditions are met
if [[ condition1 && condition2 ]] # passes only if both conditions are met
```
+ For string comparison, available comparison operators are "==", "!=", ">", ">=", "<", "<="
+ For numeric comparison, available comparison operators are "-eq", "-ne", "-gt", "-ge", "-lt", "-le"
+ Note: Mandatory space before and after each comparion operator

### For-loops
```
# General syntax (simple)
for var_name in ${MY_LIST_VAR[@]}
do
  ... statements ...
done

# General syntax (simple with iterable generated by seq)
for var_name in $(seq 1 10) # seq 1 10 generates a list of numbers from 1 to 10 (inclusive)
do
  ... statements ...
done

# General syntax (with continue or break)
for var_name in ${MY_LIST_VAR[@]}
do
  ... statements ...
  if [[ condition1 ]]; then
    continue
  elif [[ condition2 ]]; then
    break
  fi
  ... statements ...
done
```

### Functions and Arguments
```
<my_script.sh>
arg1=$1
arg2=$2

echo $#  # outputs the number of arguments passed

function simple_add_function() {
  firstNum=$1
  secondNum=$2

  total=$(($firstNum + $secondNum))
  return $total
}

simple_add_function 1 2  # firstNum will be set as 1, and secondNum will be set as 2
```
+ To pass argument(s) to a script: sh my_script.sh argOne argTwo
+ To pass argument(s) to a function: function_name argOne argTwo
+ Note that arguments are separated by spaces when passing to a function or script

### Parallel processes
`<run-command-to-start-process1> & <run-command-to-start-process2> & <run-command-to-start-process3> ...`
+ The symbol '&' allows us to start multiple processes in parallel!

### Print or echo function body
`type func_name | sed '1,3d;$d'`
+ 'func_name' must match exactly 1 function name
+ This can be used to pipe scripts to a remote tooling server
  -  E.g. `sh ./script.sh $action | ssh remote-server-host` where ./script.sh may contain multiple functions 

### Run mysql commands
```
queryOne="SELECT * FROM TABLE_NAME_HERE WHERE ..." # can be insert / update / delete query
export MYSQL_PWD=... # can be written in plain text, or a command to retrieve secret from a remote server (e.g. aws secrets manager)
mysql -h[HOSTNAME_here] -u[USERNAME_here] -D[DATABASE_NAME_here] -e "$queryOne"
```
+ Instead of running `export MYSQL_PWD=...`, you can also pass in the param `-p[PASSWORD_here]` to mysql command
+ If select query returns exactly one row and one column, ie one cell value, you can pass in the param `-sN` to mysql command to extract that output result value and save it to a variable
  -  E.g. `myVar=$(mysql -h[HOSTNAME_here] -u[USERNAME_here] -D[DATABASE_NAME_here] -sN -e "$queryTwo")`
